@page "/peliculas/editar/{PeliculaId:int}"

<h3>
    Editar Pelicula
</h3>

<FormularioPeliculas Pelicula="Pelicula" OnValidSubmit="Editar"
                     GenerosNoSeleccionados="GenerosNoSeleccionados" 
                     GenerosSeleccionados="GenerosSeleccionados" />


@code {
    private Pelicula Pelicula = new Pelicula();
    [Parameter] public int PeliculaId { get; set; }
    [Parameter] public List<Genero> GenerosSeleccionados { get; set; } = new List<Genero>();
    [Parameter] public List<Genero> GenerosNoSeleccionados { get; set; } = new List<Genero>();

    protected override void OnInitialized()
    {
        Pelicula = new Pelicula()
        {
            Id = PeliculaId,
            Titulo = "Mi pelicula"
        };
        GenerosNoSeleccionados = new List<Genero>(){
                new Genero()
                {
                    Id = 1,
                    Nombre = "Comedia"
                },
                new Genero()
                {
                    Id = 3,
                    Nombre = "Accion"
                },
                new Genero()
                {
                    Id = 4,
                    Nombre = "Romanticas"
                }
            };

        GenerosSeleccionados = new List<Genero>(){
            new Genero()
                {
                    Id = 2,
                    Nombre = "Terror"
                },
        };
    }

    private void Editar()
    {
        Console.WriteLine("Editando pelicula");
    }
}
